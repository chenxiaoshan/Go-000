### week2作业思考

问题：
我们在数据库操作的时候，比如 dao 层中当遇到一个 sql.ErrNoRows 的时候，是否应该 Wrap 这个 error，抛给上层。为什么，应该怎么做请写出代码？

思考：
基于：dao层指定一种实现，mysql实现，（mysql,redis,mongodb分层实现，互不干涉）
查询不到数据是否是业务允许，允许情况怎么处理，不允许怎么处理。


1. 允许查不到数据：比如用户User，还有关联数据UserInfo，存储一些详细信息，但是这些
信息是用户选填的，自然就存在查询详细信息UserInfo不存在的情况，此时正常我们的处理方式
是返回空数据，那么如果我们Wrap这个error往上抛，能不能达到我们对应的目的。应该是可以
的，我们根据errors.Is判断是否是这个异常，如果是则将数据包装一下，数据都在业务层进行
包装。如果我们不Wrap往上抛，上层处理也是类似，用errors.Is判断，业务数据组装。
这种情况下，可抛可不抛，都能达到对应目的。但是为了避免不必要的操作，建议直接将原始异常抛出。

2. 不允许查不到数据：比如用户表和账户表，一个用户User对应一个账户UserAccount,User存在
UserAccount肯定存在，此时UserAccount不存在肯定是出现了异常，可能是sql组装异常，
也可能是数据库出现了异常，这时必须把堆栈信息打出来，此时必须把错误用Wrap包装起来往上抛，
业务层接收到数据再做具体处理，比如记录信息，把异常解析包装成api层能接受的数据结构。


发散：
如果往上扩散，dao层能有多种实现，可能有mysql,redis,mongodb, 那么biz层不应该
和具体错误绑定，此时的sql.ErrNoRows只是一种情况，查询可能有数据，可能没有数据，
sql.ErrNoRows只是对应没有数据的情况，并不是一种错误，只是用sql.ErrNoRows代表没有
数据而已，此时的情况不应该Wrap sql.ErrNoRows,而是应该把sql.ErrNoRows转换成
查询不到数据的回应。